<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Typed coreR.</title>
    <link rel="stylesheet" type="text/css" href="codemirror.css">
    <link rel="stylesheet" type="text/css" href="style.css">
  </head>

  <body>
    <div class="holder">
      <h1>Typed coreR.</h1>

      <p>
	We are seeking for a system that would provide both
	static informations and a <strong>safe way</strong> to gradually
	define a program that could contain free variables.
	We treat open terms with <em>effects</em>, whose role is to
	statically analyse when the user defines a computation that would be
	stuck because of a free variable.
	<br><br>
	More precisely, we consider three kinds of effects: simple assignments,
	super assignments and free variables lookup: <br>
	- <em>simple assignments</em> of the form (+x:ty)<br>
	- <em>super assignments</em> of the form (^x:ty)<br>
	- <em>free variables</em> of the form (?x:ty)<br>
	<br>
	Effects are precise, can be propagated, composed.. they allow us to statically
	distinguish between : <br>
	- <strong>correct</strong> programs:
	well-typed programs that do not contain free variables.<br>
	- <strong>acceptable</strong> programs:
	well-typed programs that contain free variables but whose evaluation is not stuck.
	<br>
	- <strong>stuck</strong> programs:
	ill-typed programs or well-typed programs whose free variables lead to an evaluation error.
	<br><br>
	In the following, a program is :<br>
	- correct if there is not <em>free-variables effects</em> at all;<br>
	- acceptable if there is not <em>mandatory effect</em>;<br>
	- stuck if there is at least a <em>mandatory effect</em>.<br>
      </p>

      <p>
        Examples:
        <a href="#" id="simple">Simple</a>
	<a href="#" id="super0">Super0</a>
	<a href="#" id="super1">Super1</a>
	<a href="#" id="super2">Super2</a>
	<a href="#" id="propagation0">Propagation1</a>
	<a href="#" id="semi0">Semi0</a>
      </p>

      <div class="box">
        <textarea id="input">
        </textarea>
        <div id="error"></div>
      </div>

      <div class="buttons">
        <button id="load">Type check</button>
      </div>

      <div class="box">
        <div class="cm-s-default">
          Simple:<pre id="box_simples"></pre>
        </div>
        <div class="cm-s-default">
          Mandatory:<pre id="box_mandatories"></pre>
        </div>
        <div class="cm-s-default">
          Super:<pre id="box_super"></pre>
        </div>
        <div class="cm-s-default">
          Return type:<pre id="box_rty"></pre>
        </div>
      </div>

      <div class="box">
	Syntax
	<div class="cm-s-default">
	<pre>
	  e ::= x | e (e) | e @ ty (e)
              | fun () : ty {e} | fun (x : ty) : ty {e}
	      | assign (x,ty,e) | ^assign (x,ty,e)
	      | e ; e

	  ty ::= float | string | unit | ty -> ty
	</pre>
	</div>
      </div>

      <div class="footer">
        <em>Powered by OCaml and js_of_ocaml.</em>
      </div>

    </div>

    <script type="text/javascript" src="codemirror.js"></script>
    <script type="text/javascript" src="simple.js"></script>
    <script type="text/javascript" src="matchbrackets.js"></script>
    <script type="text/javascript" src="runmode.js"></script>
    <script type="text/javascript" src="toplevel.js"></script>
    <script type="text/javascript" src="web.js"></script>

  </body>
</html>
